/*
* Copyright © Atomic Inc 2007-2011
 * http://jsorm.com
 *
 * This file contains work that is copyrighted and is distributed under the Apache License version 2.0. 
 * 
 * Copyright 2007-2011 Atomic Inc

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

 * 
 * Version: 2.0.4
 */

(function(exports){var JSORM;var isNode=typeof module!=="undefined"&&typeof module.exports!=="undefined"&&typeof require!=="undefined"&&typeof(require)==="function";if(isNode){JSORM=require('jsorm-utilities');}else{JSORM=exports;}
var utils={getFile:function(fileName,callback,options){var fs;if(isNode){fs=require('fs');fs.readFile(fileName,function(err,data){var xmlHttp={},success;if(err){xmlHttp.responseText=null;xmlHttp.responseCode=404;success=false;}else{xmlHttp.responseText=data.toString();xmlHttp.responseCode=200;success=true;}
callback(fileName,xmlHttp,success,options);});}else{JSORM.ajax({url:fileName,callback:callback,options:options});}},loadCode:function(code){var results,vm,sandbox;if(isNode){vm=require('vm');sandbox={JSORM:utils.apply(JSORM,exports),module:{exports:{}}};sandbox.exports=module.exports;vm.runInNewContext(code,sandbox);results=sandbox.module.exports;}else{(function(){var module={exports:{}},exports=module.exports;eval(code);results=module.exports;}());}
return(results);},apply:JSORM.apply,extend:JSORM.extend,zeropad:JSORM.zeropad,fork:JSORM.fork};exports.getFile=utils.getFile;var extend=utils.extend,apply=utils.apply,getFile=utils.getFile;exports.ResourceBundle=extend({},function(config){var myclass=this.myclass,superclass=this.superclass,data,entry,lines,entries={},i,m;config=config||{};data=config.data;entry=/^\s*([^#\s][^=]*)\b\s*=\s*(.*)?\s*$/;lines=data.split('\n');for(i=0;i<lines.length;i++){m=entry.exec(lines[i]);if(m){entries[m[1]]=m[2];}}
apply(this,{name:config.name,locale:config.locale,givenLocale:config.givenLocale,get:function(key){var a=entries[key];return(a);}});},(function(){var myclass=function(){return(exports.ResourceBundle);},bundles={},baseLocale;baseLocale=function(locale){var list=[],suffixes={},index,lname,defL;if(locale){list.push(locale);suffixes[locale]=1;index=locale.indexOf('_');if(index>-1){lname=locale.substring(0,index);list.push(lname);suffixes[lname]=1;}}
defL=myclass().defaultLocale;if(!suffixes[defL]){list.push(defL);}
index=defL.indexOf('_');if(index>-1){lname=defL.substring(0,index);if(!suffixes[lname]){list.push(lname);}}
list.push('');return(list);};return{defaultLocale:'en_US',path:'/lib/locale/',getBundle:function(config){var name=config.name||"",locale=config.locale,callback=config.callback,ptopts=config.options,path,i,url,rbopts,rbCallback,ajaxCallback,list,checker=[],count,waiting={};path=config.path||myclass().path;list=baseLocale(locale);for(i=0;i<list.length;i++){url=path+name+(list[i]?'_'+list[i]:'')+'.properties';checker[i]={complete:false,success:false,url:url,locale:list[i]};}
count={complete:0,required:list.length};rbCallback=function(success,options){var ch=options.checker[options.index],allSuccess,bundle,j;ch.complete=true;options.count.complete++;ch.success=success;if(options.count.complete===options.count.required&&options.callback&&typeof(options.callback)==='function'){allSuccess=false;bundle=null;for(j=0;j<options.checker.length;j++){if(options.checker[j].success){allSuccess=true;bundle=bundles[options.checker[j].url];break;}}
options.callback(allSuccess,bundle,options.options);}};ajaxCallback=function(url,xmlHttp,success,options){if(waiting[url]){delete waiting[url];bundles[url]=success?myclass()({name:options.name,locale:options.locale,data:xmlHttp.responseText}):false;options.rbc(success,options);}};for(i=0;i<list.length;i++){url=checker[i].url;rbopts={url:url,checker:checker,index:i,callback:callback,count:count,name:name,givenLocale:locale,locale:list[i],options:ptopts};if(bundles[url]===false){fork({fn:rbCallback,scope:this,arg:[false,rbopts]});}else if(bundles[url]){fork({fn:rbCallback,scope:this,arg:[true,rbopts]});}else{rbopts.rbc=rbCallback;waiting[url]=true;utils.getFile(url,ajaxCallback,rbopts);}}}};}()));var apply=utils.apply,extend=utils.extend;exports.currency=extend({},(function(){var currencies={ALL:{dec:'.',symbol:'Lek',group:',',after:false,currency:'Leke',country:'Albania',significantFigures:2},AFN:{dec:'.',symbol:'\u060b',group:',',after:false,currency:'Afghanis',country:'Afghanistan',significantFigures:2},ARS:{dec:'.',symbol:'$',group:',',after:false,currency:'Pesos',country:'Argentina',significantFigures:2},AWG:{dec:'.',symbol:'\u0192',group:',',after:false,currency:'Guilders (also called Florins)',country:'Aruba',significantFigures:2},AUD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Australia',significantFigures:2},AZN:{dec:'.',symbol:'\u043c\u0430\u043d',group:',',after:false,currency:'New Manats',country:'Azerbaijan',significantFigures:2},BSD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Bahamas',significantFigures:2},BBD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Barbados',significantFigures:2},BYR:{dec:'.',symbol:'p.',group:',',after:false,currency:'Rubles',country:'Belarus',significantFigures:2},BEF:{dec:'.',symbol:'\u20a3',group:',',after:false,currency:'Francs (obsolete)',country:'Belgium',significantFigures:2},BZD:{dec:'.',symbol:'BZ$',group:',',after:false,currency:'Dollars',country:'Belize',significantFigures:2},BMD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Bermuda',significantFigures:2},BOB:{dec:'.',symbol:'$b',group:',',after:false,currency:'Bolivianos',country:'Bolivia',significantFigures:2},BAM:{dec:'.',symbol:'KM',group:',',after:false,currency:'Convertible Marka',country:'Bosnia and Herzegovina',significantFigures:2},BWP:{dec:'.',symbol:'P',group:',',after:false,currency:'Pulas',country:'Botswana',significantFigures:2},BGN:{dec:'.',symbol:'\u043b\u0432',group:',',after:false,currency:'Leva',country:'Bulgaria',significantFigures:2},BRL:{dec:'.',symbol:'R$',group:',',after:false,currency:'Reais',country:'Brazil',significantFigures:2},BRC:{dec:'.',symbol:'\u20a2',group:',',after:false,currency:'Cruzeiros (obsolete)',country:'Brazil',significantFigures:2},BND:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Brunei Darussalam',significantFigures:2},KHR:{dec:'.',symbol:'\u17db',group:',',after:false,currency:'Riels',country:'Cambodia',significantFigures:2},CAD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Canada',significantFigures:2},KYD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Cayman Islands',significantFigures:2},CLP:{dec:'.',symbol:'$',group:',',after:false,currency:'Pesos',country:'Chile',significantFigures:2},CNY:{dec:'.',symbol:'\u5143',group:',',after:false,currency:'Yuan Renminbi',country:'China',significantFigures:2},COP:{dec:'.',symbol:'$',group:',',after:false,currency:'Pesos',country:'Colombia',significantFigures:2},CRC:{dec:'.',symbol:'\u20a1',group:',',after:false,currency:'Colón',country:'Costa Rica',significantFigures:2},HRK:{dec:'.',symbol:'kn',group:',',after:false,currency:'Kuna',country:'Croatia',significantFigures:2},CUP:{dec:'.',symbol:'\u20b1',group:',',after:false,currency:'Pesos',country:'Cuba',significantFigures:2},CYP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Cyprus',significantFigures:2},CZK:{dec:'.',symbol:'K\u010d',group:',',after:false,currency:'Koruny',country:'Czech Republic',significantFigures:2},DKK:{dec:'.',symbol:'kr',group:',',after:false,currency:'Kroner',country:'Denmark',significantFigures:2},DOP:{dec:'.',symbol:'RD$',group:',',after:false,currency:'Pesos',country:'Dominican Republic',significantFigures:2},XCD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'East Caribbean',significantFigures:2},EGP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Egypt',significantFigures:2},SVC:{dec:'.',symbol:'$',group:',',after:false,currency:'Colones',country:'El Salvador',significantFigures:2},EEK:{dec:'.',symbol:'kr',group:',',after:false,currency:'Krooni',country:'Estonia',significantFigures:2},EUR:{dec:'.',symbol:'\u20ac',group:',',after:false,currency:'',country:'Euro',significantFigures:2},XEU:{dec:'.',symbol:'\u20a0',group:',',after:false,currency:'',country:'European Currency Unit (obsolete)',significantFigures:2},FKP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Falkland Islands',significantFigures:2},FJD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Fiji',significantFigures:2},FRF:{dec:'.',symbol:'\u20a3',group:',',after:false,currency:'Francs (obsolete)',country:'France',significantFigures:2},GHC:{dec:'.',symbol:'\u00a2',group:',',after:false,currency:'Cedis',country:'Ghana',significantFigures:2},GIP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Gibraltar',significantFigures:2},GRD:{dec:'.',symbol:'\u20af',group:',',after:false,currency:'Drachmae (obsolete)',country:'Greece',significantFigures:2},GTQ:{dec:'.',symbol:'Q',group:',',after:false,currency:'Quetzales',country:'Guatemala',significantFigures:2},GGP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Guernsey',significantFigures:2},GYD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Guyana',significantFigures:2},NLG:{dec:'.',symbol:'\u0192',group:',',after:false,currency:'Guilders (also called Florins) (obsolete)',country:'Holland (Netherlands)',significantFigures:2},HNL:{dec:'.',symbol:'L',group:',',after:false,currency:'Lempiras',country:'Honduras',significantFigures:2},HKD:{dec:'.',symbol:'HK$',group:',',after:false,currency:'Dollars (General written use)',country:'Hong Kong',significantFigures:2},HUF:{dec:'.',symbol:'Ft',group:',',after:false,currency:'Forint',country:'Hungary',significantFigures:2},ISK:{dec:'.',symbol:'kr',group:',',after:false,currency:'Kronur',country:'Iceland',significantFigures:2},INR:{dec:'.',symbol:'\u20a8',group:',',after:false,currency:'Rupees (Rs or Rs. are commonly used instead of the symbol)',country:'India',significantFigures:2},IDR:{dec:'.',symbol:'Rp',group:',',after:false,currency:'Rupiahs',country:'Indonesia',significantFigures:2},IRR:{dec:'.',symbol:'\ufdfc',group:',',after:false,currency:'Rials',country:'Iran',significantFigures:2},IEP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Punt (obsolete)',country:'Ireland',significantFigures:2},IMP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Isle of Man',significantFigures:2},ILS:{dec:'.',symbol:'\u20aa',group:',',after:false,currency:'New Shekels',country:'Israel',significantFigures:2},ITL:{dec:'.',symbol:'\u20a4',group:',',after:false,currency:'Lire (obsolete)',country:'Italy',significantFigures:2},JMD:{dec:'.',symbol:'J$',group:',',after:false,currency:'Dollars',country:'Jamaica',significantFigures:2},JPY:{dec:'.',symbol:'\u00a5',group:',',after:false,currency:'Yen',country:'Japan',significantFigures:2},JEP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Jersey',significantFigures:2},KZT:{dec:'.',symbol:'\u043b\u0432',group:',',after:false,currency:'Tenge',country:'Kazakhstan',significantFigures:2},KGS:{dec:'.',symbol:'\u043b\u0432',group:',',after:false,currency:'Soms',country:'Kyrgyzstan',significantFigures:2},LAK:{dec:'.',symbol:'\u20ad',group:',',after:false,currency:'Kips',country:'Laos',significantFigures:2},LVL:{dec:'.',symbol:'Ls',group:',',after:false,currency:'Lati',country:'Latvia',significantFigures:2},LBP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Lebanon',significantFigures:2},LRD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Liberia',significantFigures:2},LTL:{dec:'.',symbol:'Lt',group:',',after:false,currency:'Litai',country:'Lithuania',significantFigures:2},LUF:{dec:'.',symbol:'\u20a3',group:',',after:false,currency:'Francs (obsolete)',country:'Luxembourg',significantFigures:2},MKD:{dec:'.',symbol:'\u0434\u0435\u043d',group:',',after:false,currency:'Denars',country:'Macedonia',significantFigures:2},MYR:{dec:'.',symbol:'RM',group:',',after:false,currency:'Ringgits',country:'Malaysia',significantFigures:2},MTL:{dec:'.',symbol:'Lm',group:',',after:false,currency:'Liri',country:'Malta',significantFigures:2},MUR:{dec:'.',symbol:'\u20a8',group:',',after:false,currency:'Rupees',country:'Mauritius',significantFigures:2},MXN:{dec:'.',symbol:'$',group:',',after:false,currency:'Pesos',country:'Mexico',significantFigures:2},MNT:{dec:'.',symbol:'\u20ae',group:',',after:false,currency:'Tugriks',country:'Mongolia',significantFigures:2},MZN:{dec:'.',symbol:'MT',group:',',after:false,currency:'Meticais',country:'Mozambique',significantFigures:2},NAD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Namibia',significantFigures:2},NPR:{dec:'.',symbol:'\u20a8',group:',',after:false,currency:'Rupees',country:'Nepal',significantFigures:2},ANG:{dec:'.',symbol:'\u0192',group:',',after:false,currency:'Guilders (also called Florins)',country:'Netherlands Antilles',significantFigures:2},NZD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'New Zealand',significantFigures:2},NIO:{dec:'.',symbol:'C$',group:',',after:false,currency:'Cordobas',country:'Nicaragua',significantFigures:2},NGN:{dec:'.',symbol:'\u20a6',group:',',after:false,currency:'Nairas',country:'Nigeria',significantFigures:2},KPW:{dec:'.',symbol:'\u20a9',group:',',after:false,currency:'Won',country:'North Korea',significantFigures:2},NOK:{dec:'.',symbol:'kr',group:',',after:false,currency:'Krone',country:'Norway',significantFigures:2},OMR:{dec:'.',symbol:'\ufdfc',group:',',after:false,currency:'Rials',country:'Oman',significantFigures:2},PKR:{dec:'.',symbol:'\u20a8',group:',',after:false,currency:'Rupees',country:'Pakistan',significantFigures:2},PAB:{dec:'.',symbol:'B/.',group:',',after:false,currency:'Balboa',country:'Panama',significantFigures:2},PYG:{dec:'.',symbol:'Gs',group:',',after:false,currency:'Guarani',country:'Paraguay',significantFigures:2},PEN:{dec:'.',symbol:'S/.',group:',',after:false,currency:'Nuevos Soles',country:'Peru',significantFigures:2},PHP:{dec:'.',symbol:'Php',group:',',after:false,currency:'Pesos',country:'Philippines',significantFigures:2},PLN:{dec:'.',symbol:'z\u0142',group:',',after:false,currency:'Zlotych',country:'Poland',significantFigures:2},QAR:{dec:'.',symbol:'\ufdfc',group:',',after:false,currency:'Rials',country:'Qatar',significantFigures:2},RON:{dec:'.',symbol:'lei',group:',',after:false,currency:'New Lei',country:'Romania',significantFigures:2},RUB:{dec:'.',symbol:'\u0440\u0443\u0431',group:',',after:true,currency:'Rubles',country:'Russia',significantFigures:2},SHP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Saint Helena',significantFigures:2},SAR:{dec:'.',symbol:'\ufdfc',group:',',after:false,currency:'Riyals',country:'Saudi Arabia',significantFigures:2},RSD:{dec:'.',symbol:'\u0414\u0438\u043d.',group:',',after:false,currency:'Dinars',country:'Serbia',significantFigures:2},SCR:{dec:'.',symbol:'\u20a8',group:',',after:false,currency:'Rupees',country:'Seychelles',significantFigures:2},SGD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Singapore',significantFigures:2},SKK:{dec:'.',symbol:'SIT',group:',',after:false,currency:'Koruny',country:'Slovakia',significantFigures:2},SBD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Solomon Islands',significantFigures:2},SOS:{dec:'.',symbol:'S',group:',',after:false,currency:'Shillings',country:'Somalia',significantFigures:2},ZAR:{dec:'.',symbol:'R',group:',',after:false,currency:'Rand',country:'South Africa',significantFigures:2},KRW:{dec:'.',symbol:'\u20a9',group:',',after:false,currency:'Won',country:'South Korea',significantFigures:2},ESP:{dec:'.',symbol:'\u20a7',group:',',after:false,currency:'Pesetas (obsolete)',country:'Spain',significantFigures:2},LKR:{dec:'.',symbol:'\u20a8',group:',',after:false,currency:'Rupees',country:'Sri Lanka',significantFigures:2},SEK:{dec:'.',symbol:'kr',group:',',after:false,currency:'Kronor',country:'Sweden',significantFigures:2},CHF:{dec:'.',symbol:'CHF',group:',',after:false,currency:'Francs',country:'Switzerland',significantFigures:2},SRD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Suriname',significantFigures:2},SYP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'Syria',significantFigures:2},TWD:{dec:'.',symbol:'NT$',group:',',after:false,currency:'New Dollars',country:'Taiwan',significantFigures:2},THB:{dec:'.',symbol:'\u0e3f',group:',',after:false,currency:'Baht',country:'Thailand',significantFigures:2},TTD:{dec:'.',symbol:'TT$',group:',',after:false,currency:'Dollars',country:'Trinidad and Tobago',significantFigures:2},TRY:{dec:'.',symbol:'YTL',group:',',after:false,currency:'New Lira',country:'Turkey',significantFigures:2},TRL:{dec:'.',symbol:'\u20a4',group:',',after:false,currency:'Liras',country:'Turkey',significantFigures:2},TVD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'Tuvalu',significantFigures:2},UAH:{dec:'.',symbol:'\u20b4',group:',',after:false,currency:'Hryvnia',country:'Ukraine',significantFigures:2},GBP:{dec:'.',symbol:'\u00a3',group:',',after:false,currency:'Pounds',country:'United Kingdom',significantFigures:2},USD:{dec:'.',symbol:'$',group:',',after:false,currency:'Dollars',country:'United States of America',significantFigures:2},UYU:{dec:'.',symbol:'$U',group:',',after:false,currency:'Pesos',country:'Uruguay',significantFigures:2},UZS:{dec:'.',symbol:'\u043b\u0432',group:',',after:false,currency:'Sums',country:'Uzbekistan',significantFigures:2},VAL:{dec:'.',symbol:'\u20a4',group:',',after:false,currency:'Lire (obsolete)',country:'Vatican City',significantFigures:2},VEB:{dec:'.',symbol:'Bs',group:',',after:false,currency:'Bolivares',country:'Venezuela',significantFigures:2},VND:{dec:'.',symbol:'\u20ab',group:',',after:false,currency:'Dong',country:'Vietnam',significantFigures:2},YER:{dec:'.',symbol:'\ufdfc',group:',',after:false,currency:'Rials',country:'Yemen',significantFigures:2},ZWD:{dec:'.',symbol:'Z$',group:',',after:false,currency:'Zimbabwe Dollars',country:'Zimbabwe',significantFigures:2},BTC:{dec:'.',symbol:'',group:',',after:false,currency:'Bitcoins',country:'N/A',significantFigures:8}};return function(a){var abbr=currencies[a]?a:this.myclass.defaultCurrency,data=currencies[abbr],doMoney,padString;padString=function(str,n){var lenString=str.length,paddingLen=n-lenString,padding=(new Array(paddingLen+1)).join('0');return str+padding;};doMoney=function(v,dec,symbol,group,after,significantFigures){var ps,whole,sub,r,roundingFactor=Math.pow(10,significantFigures);v=(Math.round(v*roundingFactor))/roundingFactor;v=String(v);ps=v.split('.');whole=ps[0];sub=ps[1]?dec+padString(ps[1],significantFigures):dec+padString('0',significantFigures);if(!group){group='';}
r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,'$1'+group+'$2');}
v=whole+sub;if(!symbol){symbol='';}
if(after){v=v+symbol;}else{if(v.charAt(0)==='-'){v='-'+symbol+v.substr(1);}else{v=symbol+v;}}
return(v);};apply(this,{format:function(value){var str='';value=value?value:0;str=doMoney(value,data.dec,data.symbol,data.group,data.after,data.significantFigures);return(str);},getAbbreviation:function(){return(abbr);},getName:function(){return(data.currency);},getCountry:function(){return(data.country);},getCurrencies:function(){var list=[],i;for(i in currencies){if(currencies.hasOwnProperty(i)&&typeof(currencies[i])!=="function"){list.push(i);}}
return(list);}});};}()),{defaultCurrency:'USD',getCurrencies:function(){return(exports.currency().getCurrencies());}});var extend=utils.extend,apply=utils.apply,getFile=utils.getFile,fork=utils.fork;exports.TimeZone=extend({},function(n,d){var zoneData=d,name=n,findTx;findTx=function(secs,zoneData,zoned){var tx=zoneData.transitions,ty=zoneData.types,len=tx.length-1,i,offset,zi=ty[0];for(i=-1;i<len;i++){offset=zoned?zi[0]:0;if(tx[i+1][0]>secs-offset){break;}else{zi=ty[tx[i+1][1]];}}
return(zi);};apply(this,{getName:function(){return(name);},getZoneInfo:function(year,month,day,hour,minute,second){var ret={},secs,d,zi;secs=Math.abs(Date.UTC(year,month,day+1,hour,minute,second)/1000);if(!zoneData){d=new Date();d.setTime(secs*1000);ret={offset:d.getTimezoneOffset()*-1,isDst:0,abbr:''};}else{zi=findTx(secs,zoneData,true);ret={offset:zi[0],isDst:zi[1],abbr:zi[2]};}
return(ret);},getZoneInfoUTC:function(secs){var ret={},offset,abbr,isDst,zi;if(!zoneData){offset=new Date(secs).getTimezoneOffset()*-1;abbr='';isDst=0;ret={offset:offset,isDst:isDst,abbr:abbr};}else{zi=findTx(secs,zoneData,false);ret={offset:zi[0],isDst:zi[1],abbr:zi[2]};}
return(ret);}});},(function(){var myclass=function(){return(exports.TimeZone);},zones={},zonelist=null,version=0,createGmtName;createGmtName=function(sign,hr,min){var name='GMT'+sign+(hr.length===2?hr:'0'+hr)+':';switch(min.length){case 0:name+='00';break;case 1:name+='0'+min;break;case 2:name+=min;break;}
return(name);};return{basepath:'/lib/',path:'i18n/zoneinfo/',getVersion:function(config){var T=myclass(),callback=config.callback,basepath=config.basepath||T.basepath,path=config.path||T.path;if(version){fork({fn:callback,scope:this,arg:[true,version]});}else{getFile(basepath+path+'+VERSION',function(url,xmlHttp,success,options){if(success){version=xmlHttp.responseText;}
options.callback(success,version,options);},{callback:callback,options:config.options});}},getZoneList:function(config){var T=myclass(),callback=config.callback,basepath=config.basepath||T.basepath,path=config.path||T.path;if(zonelist){fork({fn:callback,scope:this,arg:[true,zonelist]});}else{getFile(basepath+path+'zones',function(url,xmlHttp,success,options){if(success){zonelist=JSON.parse(xmlHttp.responseText);}
options.callback(success,zonelist,options);},{callback:callback,options:config.options});}},getZone:function(config){var tzClass=myclass(),name=config.name,callback=config.callback,options=config.options,zone,tzinfo,m,offset,dstIncr,zoneName,basepath,path;if(!name){name="local";zone=zones[name];if(!zone){zone=tzClass(name,null);zones[name]=zone;}
fork({fn:callback,scope:this,arg:[true,zone,options]});}else{zone=zones[name];if(zone){fork({fn:callback,scope:this,arg:[true,zone,options]});}else{m=/^\s*GMT([\+\-])(\d\d?):?(\d?\d?)$/.exec(name);if(m){offset=(parseInt(m[2],10)*60+parseInt(m[3],10))*60*(m[1]==='+'?1:-1);dstIncr=0;zoneName=createGmtName(m[1],m[2],m[3]);zone=zones[zoneName];if(!zone){zone=tzClass(zoneName,{leaps:[],transitions:[],types:[[offset,0,zoneName]]});zones[zoneName]=zone;}
fork({fn:callback,scope:this,arg:[true,zone,options]});}else{basepath=config.basepath||tzClass.basepath;path=config.path||tzClass.path;getFile(basepath+path+name,function(url,xmlHttp,success,options){if(success){tzinfo=JSON.parse(xmlHttp.responseText);zone=tzClass(options.name,tzinfo);zones[options.name]=zone;}
options.callback(success,zone,options.options);},{name:name,callback:callback,options:options});}}}}};}()));var extend=utils.extend,apply=utils.apply,zeropad=utils.zeropad,loadCode=utils.loadCode;exports.calendar=extend({},(function(){var EPOCH_YEAR=1970,EPOCH_DAYS=719163,ms1m=60*1000,ms1h=3600*1000,ms1d=3600*1000*24,ms7d=7*3600*1000*24,iso={date:'yyyy-MM-DD',time:'H:i:sP'},JAVA='J',PHP='P',STRFTIME='S',sec,formatters={},formats,mod,processWeekCount;sec={minute:60,hour:60*60,day:60*60*24,week:7*60*60*24,epoch:719163*60*60*24};formatters[JAVA]={fn:function(format,formatter,cal){var str='',buf='',l='',count=1,e=false,i,f;for(i=0;i<format.length;i++){f=format[i];if(f==='\''){if(e){str+=buf;buf='';e=false;}else{buf='';e=true;}
l='';}else if(e){buf+=f;}else if(f===l){count++;}else{if(formatter[l]){str+=formatter[l].fn(cal,count);}
if(formatter[f]){l=f;count=1;}else{l='';str+=f;count=0;}}}
if(formatter[l]){str+=formatter[l].fn(cal,count);}
return(str);},codes:{G:{fn:function(cal,len){return(cal.getTextEra());},desc:'Era designator (AD/BC)'},y:{fn:function(cal,len){return(zeropad(cal.getYear(),len).slice(len*-1));},desc:'Year 07;2007'},M:{fn:function(cal,len){var m=cal.getMonth();switch(len){case 1:m=zeropad(m,len).slice(2*-1);break;case 2:m=zeropad(m,len).slice(len*-1);break;case 3:m=cal.getTextMonthShort();break;default:m=cal.getTextMonthLong();break;}
return(m);},desc:'Month in year 07;Jul;July'},w:{fn:function(cal,len){return(zeropad(cal.get('ISO_WEEK_OF_YEAR'),len));},desc:'ISO week in year 1-53'},W:{fn:function(cal,len){return(cal.getWeekOfMonth());},desc:'Week in month 1-5'},D:{fn:function(cal,len){return(zeropad(cal.getDayOfYear(),len));},desc:'Day in year 1-365'},d:{fn:function(cal,len){return(zeropad(cal.getDate(),len));},desc:'Day in month 1-31'},F:{fn:function(cal,len){return(cal.getDayOfWeekInMonth());},desc:'Incidence of day of week in month - 2nd Tuesday in month: 2'},E:{fn:function(cal,len){return(cal.getTextDayOfWeek(len<=3));},desc:'Day in week Tue/Tuesday'},a:{fn:function(cal,len){return(cal.getTextAmPm());},desc:'am/pm marker in capitals AM/PM'},H:{fn:function(cal,len){return(zeropad(cal.getHourOfDay(),len));},desc:'Hour in day 0-23'},k:{fn:function(cal,len){return(zeropad(cal.getHourOfDay()===0?24:cal.getHourOfDay(),len));},desc:'Hour in day 1-24'},K:{fn:function(cal,len){return(zeropad(cal.getHour()%12,len));},desc:'Hour in am/pm 0-11'},h:{fn:function(cal,len){return(zeropad(cal.getHour(),len));},desc:'Hour in am/pm 1-12'},m:{fn:function(cal,len){return(zeropad(cal.getMinute(),len));},desc:'Minute in hour'},s:{fn:function(cal,len){return(zeropad(cal.getSecond(),len));},desc:'Second in minute'},S:{fn:function(cal,len){return(zeropad(cal.getMillisecond(),len));},desc:'Millisecond'},z:{fn:function(cal,len){return(cal.getZoneName());},desc:'Time zone - Pacific Standard Time;PST;GMT-08:00'},Z:{fn:function(cal,len){return(cal.getRfc822());},desc:'Time zone as RFC 822 format - -0800'}}};formatters[PHP]={fn:function(format,formatter,cal){var str='',e=false,i,f;for(i=0;i<format.length;i++){f=format[i];if(f==='\\'){if(e){str+=f;e=false;}else{e=true;}}else if(e){str+=f;}else if(formatter[f]){str+=formatter[f].fn(cal);}else{str+=f;}}
return(str);},codes:{d:{fn:function(cal){return(zeropad(cal.getDate(),2));},desc:'Day of the month, 2 digits with leading zeros'},D:{fn:function(cal){return(cal.getTextDayOfWeekShort().substring(0,3));},desc:'A textual representation of a day, three letters'},j:{fn:function(cal){return(cal.getDate());},desc:'Day of the month without leading zeros'},l:{fn:function(cal){return(cal.getTextDayOfWeekLong());},desc:'A full textual representation of the day of the week'},N:{fn:function(cal){var dow=cal.getDayOfWeek();return(dow===0?7:dow);},desc:'ISO-8601 numeric representation of the day of the week 1-7 for Mon-Sun'},S:{fn:function(cal){return(cal.getTextCount());},desc:'English ordinal suffix for the day of the month, 2 characters'},w:{fn:function(cal){return(cal.getDayOfWeek());},desc:'Numeric representation of the day of the week 0-6 for Sun-Sat'},z:{fn:function(cal){return(cal.getDayOfYear()-1);},desc:'Day of the year 0-364/5'},W:{fn:function(cal){return(cal.get('ISO_WEEK_OF_YEAR'));},desc:'ISO-8601 week number of year, weeks starting on Monday'},F:{fn:function(cal){return(cal.getTextMonthLong());},desc:'A full textual representation of a month, such as January or March'},m:{fn:function(cal){return(zeropad(cal.getMonth(),2));},desc:'Numeric representation of a month, with leading zeros 01-12'},M:{fn:function(cal){return(cal.getTextMonthShort().substring(0,3));},desc:'A short textual representation of a month, three letters Jan-Dec'},n:{fn:function(cal){return(cal.getMonth());},desc:'Numeric representation of a month, without leading zeros 1-12'},t:{fn:function(cal){return(cal.getMax('DATE'));},desc:'Number of days in the given month'},L:{fn:function(cal){return(cal.isLeap()?1:0);},desc:'leap year 1 for yes, 0 for no'},o:{fn:function(cal){return(cal.get('ISO_YEAR'));},desc:'ISO-8601 year number. This has the same value as Y, except that if the ISO week number (W) belongs to the previous or next year, that year is used instead.'},Y:{fn:function(cal){return(cal.getYear());},desc:'Full numeric representation of the year'},y:{fn:function(cal){return(zeropad(cal.getYear(),2).slice(-2));},desc:'2-digit numeric representation of the year'},a:{fn:function(cal){return(cal.getTextAmPm().toLowerCase());},desc:'Lowercase am and pm'},A:{fn:function(cal){return(cal.getTextAmPm().toUpperCase());},desc:'Uppercase AM and PM'},g:{fn:function(cal){return(cal.getHour());},desc:'12-hour format of an hour without leading zeros 1-12'},G:{fn:function(cal){return(cal.getHourOfDay());},desc:'24-hour format of an hour without leading zeros 0-23'},h:{fn:function(cal){return(zeropad(cal.getHour(),2));},desc:'12-hour format of an hour with leading zeros 01-12'},H:{fn:function(cal){return(zeropad(cal.getHourOfDay(),2));},desc:'24-hour format of an hour with leading zeros 00-23'},i:{fn:function(cal){return(zeropad(cal.getMinute(),2));},desc:'Minutes with leading zeros 00-59'},s:{fn:function(cal){return(zeropad(cal.getSecond(),2));},desc:'Seconds, with leading zeros 00-59'},u:{fn:function(cal){return(cal.getMillisecond());},desc:'Milliseconds'},e:{fn:function(cal){return(cal.getZone().getName());},desc:'Timezone'},I:{fn:function(cal){return(cal.get('DST'));},desc:'If date is in daylight savings time: 1 for DST, 0 for not'},O:{fn:function(cal){return(cal.getRfc822());},desc:'Difference to Greenwich time (GMT) in hours -0500'},P:{fn:function(cal){var v=cal.getRfc822();return(v.slice(0,v.length-2)+':'+v.slice(-2));},desc:'Difference to Greenwich time (GMT) with colon between hours and minutes -05:00'},T:{fn:function(cal){return(cal.getZoneName());},desc:'Timezone abbreviation EST MDT PST'},c:{fn:function(cal){return(cal.format('Y-m-d H:i:sP',PHP));},desc:'ISO 8601 date 2007-11-27T14:35:50-05:00 equal to Y-m-d H:i:sP'},r:{fn:function(cal){return(cal.format('D, d-M-Y H:i:s O',PHP));},desc:'RFC 822 date Thu, 21 Dec 2000 16:01:07 +0200 equal to D, d-M-Y H:i:s O'},U:{fn:function(cal){return(cal.getTime()/1000);},desc:'Seconds since the Unix epoch January 1 1970 00:00:00 GMT'}}};formatters[STRFTIME]={fn:function(format,formatter,cal){var str='',e=false,i,f;for(i=0;i<format.length;i++){f=format[i];if(e){if(formatter[f]){str+=formatter[f].fn(cal);}
e=false;}else if(f==='%'){e=true;}else{str+=f;}}
return(str);},codes:{a:{fn:function(cal){return cal.getTextDayOfWeekShort().substring(0,3);},desc:'abbreviated weekday name according to the current locale'},A:{fn:function(cal){return cal.getTextDayOfWeekLong();},desc:'full weekday name according to the current locale'},b:{fn:function(cal){return cal.getTextMonthShort().substring(0.3);},desc:'abbreviated month name according to the current locale'},B:{fn:function(cal){return cal.getTextMonthLong();},desc:'full month name according to the current locale'},c:{fn:function(cal){return new Date(cal.getTime()).toString();},desc:'preferred date and time representation for the current locale'},C:{fn:function(cal){return zeropad(cal.getYear(),4).substring(0,2);},desc:'century number (the year divided by 100 and truncated to an integer) as a decimal number [00-99].'},d:{fn:function(cal){return zeropad(cal.getDate(),2);},desc:'day of the month as a decimal number (range 01 to 31)'},D:{fn:function(cal){return cal.format('%m/%d/%y',STRFTIME);},desc:'Same as %m/%d/%y'},e:{fn:function(cal){var date=cal.getDate();return((date<10?' ':'')+date.toString());},desc:'day of the month as a decimal number [1,31]; a single digit is preceded by a space'},h:{fn:function(cal){return cal.format('%b',STRFTIME);},desc:'Same as %b'},H:{fn:function(cal){return zeropad(cal.getHourOfDay(),2);},desc:'hour as a decimal number using a 24-hour clock (range 00 to 23)'},I:{fn:function(cal){return zeropad(cal.getHour(),2);},desc:'hour as a decimal number using a 12-hour clock (range 01 to 12)'},j:{fn:function(cal){return zeropad(cal.getDayOfYear(),3);},desc:'day of the year as a decimal number [001,366]'},m:{fn:function(cal){return zeropad(cal.getMonth(),2);},desc:'month as a decimal number (range 01 to 12)'},M:{fn:function(cal){return zeropad(cal.getMinute(),2);},desc:'minute as a decimal number'},n:{fn:function(cal){return'\n';},desc:'Newline character'},p:{fn:function(cal){return cal.getTextAmPm().toUpperCase();},desc:'either am or pm according to the given time value, or the corresponding strings for the current locale'},r:{fn:function(cal){return cal.format('%I:%M:%S %p',STRFTIME);},desc:'time in a.m. and p.m. notation; in the POSIX locale this is equivalent to %I:%M:%S %p'},R:{fn:function(cal){return cal.format('%H:%M',STRFTIME);},desc:'time in 24 hour notation (%H:%M)'},S:{fn:function(cal){return zeropad(cal.getSecond(),2);},desc:'second as a decimal number'},t:{fn:function(cal){return'\t';},desc:'tab character'},T:{fn:function(cal){return cal.format('%H:%M:%S',STRFTIME);},desc:'time (%H:%M:%S)'},u:{fn:function(cal){return cal.getDayOfWeek()===0?cal.getDayOfWeek()+7:cal.getDayOfWeek();},desc:'weekday as a decimal number [1,7], with 1 representing Monday'},U:{fn:function(cal){return zeropad(cal.getWeekOfYear(),2);},desc:'week number of the year (Sunday as the first day of the week) as a decimal number [00,53]'},V:{fn:function(cal){return zeropad(cal.getWeekOfYear()+1,2);},desc:'week number of the year (Monday as the first day of the week) as a decimal number [01,53]. If the week containing 1 January has four or more days in the new year, then it is considered week 1. Otherwise, it is the last week of the previous year, and the next week is week 1'},w:{fn:function(cal){return cal.getDayOfWeek();},desc:'day of the week as a decimal, Sunday being 0'},W:{fn:function(cal){return zeropad(cal.getWeekOfYear(),2);},desc:'week number of the year (Monday as the first day of the week) as a decimal number [00,53]. All days in a new year preceding the first Monday are considered to be in week 0'},x:{fn:function(cal){return cal.date();},desc:'locale appropriate date representation'},X:{fn:function(cal){return cal.getTime();},desc:'locale appropriate time representation'},y:{fn:function(cal){return zeropad(cal.getYear(),2).slice(-2);},desc:'year as a decimal number without a century (range 00 to 99)'},Y:{fn:function(cal){return zeropad(cal.getYear(),4);},desc:'year as a decimal number including the century'},Z:{fn:function(cal){return cal.getZoneName();},desc:'Zone name'},'%':{fn:function(cal){return'%';},desc:'Literal %'}}};formats={AF:{name:'AFGHANISTAN',date:''},AX:{name:'\u00c5LAND ISLANDS',date:''},AL:{name:'ALBANIA',date:'dd/mm/yyyy'},DZ:{name:'ALGERIA',date:''},AS:{name:'AMERICAN SAMOA',date:''},AD:{name:'ANDORRA',date:''},AO:{name:'ANGOLA',date:''},AI:{name:'ANGUILLA',date:''},AQ:{name:'ANTARCTICA',date:''},AG:{name:'ANTIGUA AND BARBUDA',date:''},AR:{name:'ARGENTINA',date:'dd/mm/yyyy'},AM:{name:'ARMENIA',date:'dd.mm.yyyy'},AW:{name:'ARUBA',date:''},AU:{name:'AUSTRALIA',date:'dd/mm/yyyy'},AT:{name:'AUSTRIA',date:'yyyy-mm-dd'},AZ:{name:'AZERBAIJAN',date:''},BS:{name:'BAHAMAS',date:''},BH:{name:'BAHRAIN',date:''},BD:{name:'BANGLADESH',date:'dd/mm/yyyy'},BB:{name:'BARBADOS',date:'dd/mm/yyyy'},BY:{name:'BELARUS',date:'dd/mm/yyyy'},BE:{name:'BELGIUM',date:'dd/mm/yyyy'},BZ:{name:'BELIZE',date:'dd/mm/yyyy'},BJ:{name:'BENIN',date:''},BM:{name:'BERMUDA',date:''},BT:{name:'BHUTAN',date:''},BO:{name:'BOLIVIA',date:'dd/mm/yyyy'},BA:{name:'BOSNIA AND HERZEGOVINA',date:''},BW:{name:'BOTSWANA',date:''},BV:{name:'BOUVET ISLAND',date:''},BR:{name:'BRAZIL',date:'dd/mm/yyyy'},IO:{name:'BRITISH INDIAN OCEAN TERRITORY',date:''},BN:{name:'BRUNEI DARUSSALAM',date:''},BG:{name:'BULGARIA',date:'dd.mm.yyyy'},BF:{name:'BURKINA FASO',date:''},BI:{name:'BURUNDI',date:''},KH:{name:'CAMBODIA',date:''},CM:{name:'CAMEROON',date:''},CA:{name:'CANADA',date:'dd/mm/yyyy'},CV:{name:'CAPE VERDE',date:''},KY:{name:'CAYMAN ISLANDS',date:''},CF:{name:'CENTRAL AFRICAN REPUBLIC',date:''},TD:{name:'CHAD',date:''},CL:{name:'CHILE',date:'dd/mm/yyyy'},CN:{name:'CHINA',date:'yyyy\u5e74mm\u6708dd\u65e5'},CX:{name:'CHRISTMAS ISLAND',date:''},CC:{name:'COCOS (KEELING) ISLANDS',date:''},CO:{name:'COLOMBIA',date:'dd/mm/yyyy'},KM:{name:'COMOROS',date:''},CD:{name:'CONGO, THE DEMOCRATIC REPUBLIC OF THE',date:''},CK:{name:'COOK ISLANDS',date:''},CR:{name:'COSTA RICA',date:''},CI:{name:'C\u00d4TE D\'IVOIRE',date:''},HR:{name:'CROATIA',date:'d.m.yyyy.'},CU:{name:'CUBA',date:''},CY:{name:'CYPRUS',date:'dd/mm/yyyy'},CZ:{name:'CZECH REPUBLIC',date:'d.m.yyyy'},DK:{name:'DENMARK',date:'dd-mm-yyyy'},DJ:{name:'DJIBOUTI',date:''},DM:{name:'DOMINICA',date:'dd/mm/yyyy'},DO:{name:'DOMINICAN REPUBLIC',date:'dd/mm/yyyy'},EC:{name:'ECUADOR',date:'dd/mm/yyyy'},EG:{name:'EGYPT',date:'dd/mm/yyyy'},SV:{name:'EL SALVADOR',date:'dd/mm/yyyy'},GQ:{name:'EQUATORIAL GUINEA',date:''},ER:{name:'ERITREA',date:''},EE:{name:'ESTONIA',date:'dd/mm/yyyy'},ET:{name:'ETHIOPIA',date:''},FK:{name:'FALKLAND ISLANDS (MALVINAS)',date:''},FO:{name:'FAROE ISLANDS',date:''},FJ:{name:'FIJI',date:''},FI:{name:'FINLAND',date:'d.m.yyyy'},FR:{name:'FRANCE',date:'dd/mm/yyyy'},GF:{name:'FRENCH GUIANA',date:'dd-mm-yyyy'},PF:{name:'FRENCH POLYNESIA',date:''},TF:{name:'FRENCH SOUTHERN TERRITORIES',date:''},GA:{name:'GABON',date:''},GM:{name:'GAMBIA',date:''},GE:{name:'GEORGIA',date:''},DE:{name:'GERMANY',date:''},GH:{name:'GHANA',date:''},GI:{name:'GIBRALTAR',date:''},GR:{name:'GREECE',date:'dd/mm/yyyy'},GL:{name:'GREENLAND',date:''},GD:{name:'GRENADA',date:'dd/mm/yyyy'},GP:{name:'GUADELOUPE',date:''},GU:{name:'GUAM',date:''},GT:{name:'GUATEMALA',date:''},GG:{name:'GUERNSEY',date:''},GN:{name:'GUINEA',date:''},GW:{name:'GUINEA-BISSAU',date:''},GY:{name:'GUYANA',date:'dd/mm/yyyy'},HT:{name:'HAITI',date:''},HM:{name:'HEARD ISLAND AND MCDONALD ISLANDS',date:''},HN:{name:'HONDURAS',date:''},HK:{name:'HONG KONG',date:'dd/mm/yyyy'},HU:{name:'HUNGARY',date:'yyyy.mm.dd'},IS:{name:'ICELAND',date:'dd.mm.yyyy'},IN:{name:'INDIA',date:'DD/MM/yyyy'},ID:{name:'INDONESIA',date:'dd-mm-yyyy'},IR:{name:'IRAN, ISLAMIC REPUBLIC OF',date:'dd/mm/yyyy'},IQ:{name:'IRAQ',date:''},IE:{name:'IRELAND',date:'dd/mm/yyyy'},IM:{name:'ISLE OF MAN',date:''},IL:{name:'ISRAEL',date:'dd/mm/yyyy'},IT:{name:'ITALY',date:'dd/mm/yyyy'},JM:{name:'JAMAICA',date:'dd/mm/yyyy'},JP:{name:'JAPAN',date:'yyyy\u5e74m\u6708d\u65e5'},JE:{name:'JERSEY',date:''},JO:{name:'JORDAN',date:'dd/mm/yyyy'},KZ:{name:'KAZAKHSTAN',date:''},KE:{name:'KENYA',date:'dd/mm/yyyy'},KI:{name:'KIRIBATI',date:''},KP:{name:'KOREA, DEMOCRATIC PEOPLE\'S REPUBLIC OF',date:'yyyy\ub144 MM\uc6d4 DD\uc77c'},KR:{name:'KOREA, REPUBLIC OF',date:'yyyy\ub144 MM\uc6d4 DD\uc77c'},KW:{name:'KUWAIT',date:''},KG:{name:'KYRGYZSTAN',date:''},LA:{name:'LAO PEOPLE\'S DEMOCRATIC REPUBLIC',date:''},LV:{name:'LATVIA',date:'dd.mm.yyyy'},LB:{name:'LEBANON',date:''},LS:{name:'LESOTHO',date:''},LR:{name:'LIBERIA',date:''},LY:{name:'LIBYAN ARAB JAMAHIRIYA',date:''},LI:{name:'LIECHTENSTEIN',date:''},LT:{name:'LITHUANIA',date:'yyyy-mm-dd'},LU:{name:'LUXEMBOURG',date:''},MO:{name:'MACAO',date:'dd/mm/yyyy'},MK:{name:'MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF',date:''},MG:{name:'MADAGASCAR',date:''},MW:{name:'MALAWI',date:''},MY:{name:'MALAYSIA',date:'dd/mm/yyyy'},MV:{name:'MALDIVES',date:''},ML:{name:'MALI',date:''},MT:{name:'MALTA',date:''},MH:{name:'MARSHALL ISLANDS',date:''},MQ:{name:'MARTINIQUE',date:''},MR:{name:'MAURITANIA',date:''},MU:{name:'MAURITIUS',date:''},YT:{name:'MAYOTTE',date:''},MX:{name:'MEXICO',date:'dd/mm/yyyy'},FM:{name:'MICRONESIA, FEDERATED STATES OF',date:'mm/dd/yyyy'},MD:{name:'MOLDOVA, REPUBLIC OF',date:''},MC:{name:'MONACO',date:''},MN:{name:'MONGOLIA',date:'yyyy-mm-dd'},ME:{name:'MONTENEGRO',date:'d.m.yyyy.'},MS:{name:'MONTSERRAT',date:''},MA:{name:'MOROCCO',date:''},MZ:{name:'MOZAMBIQUE',date:''},MM:{name:'MYANMAR',date:''},NA:{name:'NAMIBIA',date:''},NR:{name:'NAURU',date:''},NP:{name:'NEPAL',date:'yyyy-mm-dd'},NL:{name:'NETHERLANDS',date:'dd-mm-yyyy'},AN:{name:'NETHERLANDS ANTILLES',date:''},NC:{name:'NEW CALEDONIA',date:''},NZ:{name:'NEW ZEALAND',date:'dd/mm/yyyy'},NI:{name:'NICARAGUA',date:''},NE:{name:'NIGER',date:''},NG:{name:'NIGERIA',date:''},NU:{name:'NIUE',date:''},NF:{name:'NORFOLK ISLAND',date:''},MP:{name:'NORTHERN MARIANA ISLANDS',date:''},NO:{name:'NORWAY',date:'d.m.y'},OM:{name:'OMAN',date:''},PK:{name:'PAKISTAN',date:'dd/mm/yyyy'},PW:{name:'PALAU',date:'mm/dd/yyyy'},PS:{name:'PALESTINIAN TERRITORY',date:''},PA:{name:'PANAMA',date:'dd/mm/yyyy'},PG:{name:'PAPUA NEW GUINEA',date:''},PY:{name:'PARAGUAY',date:'dd/mm/yyyy'},PE:{name:'PERU',date:'dd/mm/yyyy'},PH:{name:'PHILIPPINES',date:'dd/mm/yyyy'},PN:{name:'PITCAIRN',date:''},PL:{name:'POLAND',date:'d.mm.yyyy'},PT:{name:'PORTUGAL',date:'dd/mm/yyyy'},PR:{name:'PUERTO RICO',date:'dd/mm/yyyy'},QA:{name:'QATAR',date:''},RE:{name:'R\u00c9UNION',date:''},RO:{name:'ROMANIA',date:'dd/mm/yyyy'},RU:{name:'RUSSIAN FEDERATION',date:'dd.mm.yyyy'},RW:{name:'RWANDA',date:''},BL:{name:'SAINT BARTH\u00c9LEMY',date:''},SH:{name:'SAINT HELENA',date:''},KN:{name:'SAINT KITTS AND NEVIS',date:'dd/mm/yyyy'},LC:{name:'SAINT LUCIA',date:'dd/mm/yyyy'},MF:{name:'SAINT MARTIN',date:''},PM:{name:'SAINT PIERRE AND MIQUELON',date:''},VC:{name:'SAINT VINCENT AND THE GRENADINES',date:'dd/mm/yyyy'},WS:{name:'SAMOA',date:''},SM:{name:'SAN MARINO',date:''},ST:{name:'SAO TOME AND PRINCIPE',date:''},SA:{name:'SAUDI ARABIA',date:''},SN:{name:'SENEGAL',date:''},RS:{name:'SERBIA',date:'d.m.yyyy'},SC:{name:'SEYCHELLES',date:''},SL:{name:'SIERRA LEONE',date:''},SG:{name:'SINGAPORE',date:'dd/mm/yyyy'},SK:{name:'SLOVAKIA',date:'d.m.yyyy'},SI:{name:'SLOVENIA',date:'dd/mm/yyyy'},SB:{name:'SOLOMON ISLANDS',date:''},SO:{name:'SOMALIA',date:''},ZA:{name:'SOUTH AFRICA',date:'yyyy-mm-dd'},GS:{name:'SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS',date:''},ES:{name:'SPAIN',date:'dd/mm/yyyy'},LK:{name:'SRI LANKA',date:''},SD:{name:'SUDAN',date:''},SR:{name:'SURINAME',date:''},SJ:{name:'SVALBARD AND JAN MAYEN',date:''},SZ:{name:'SWAZILAND',date:''},SE:{name:'SWEDEN',date:'yyyy-mm-dd'},CH:{name:'SWITZERLAND',date:'dd.mm.yyyy'},SY:{name:'SYRIAN ARAB REPUBLIC',date:''},TW:{name:'TAIWAN, PROVINCE OF CHINA',date:'yyyy-mm-dd'},TJ:{name:'TAJIKISTAN',date:''},TZ:{name:'TANZANIA, UNITED REPUBLIC OF',date:''},TH:{name:'THAILAND',date:'dd/mm/yyyy'},TL:{name:'TIMOR-LESTE',date:''},TG:{name:'TOGO',date:''},TK:{name:'TOKELAU',date:''},TO:{name:'TONGA',date:''},TT:{name:'TRINIDAD AND TOBAGO',date:'dd/mm/yyyy'},TN:{name:'TUNISIA',date:''},TR:{name:'TURKEY',date:'dd/mm/yyyy'},TM:{name:'TURKMENISTAN',date:''},TC:{name:'TURKS AND CAICOS ISLANDS',date:''},TV:{name:'TUVALU',date:''},UG:{name:'UGANDA',date:''},UA:{name:'UKRAINE',date:'dd.mm.yyyy'},AE:{name:'UNITED ARAB EMIRATES',date:''},GB:{name:'UNITED KINGDOM',date:'dd/mm/yyyy'},US:{name:'UNITED STATES',date:'mm/dd/yyyy'},UM:{name:'UNITED STATES MINOR OUTLYING ISLANDS',date:'mm/dd/yyyy'},UY:{name:'URUGUAY',date:'dd/mm/yyyy'},UZ:{name:'UZBEKISTAN',date:''},VU:{name:'VANUATU',date:''},VA:{name:'VATICAN CITY STATE',date:''},VE:{name:'VENEZUELA',date:'dd/mm/yyyy'},VN:{name:'VIET NAM',date:'dd/mm/yyyy'},VG:{name:'VIRGIN ISLANDS, BRITISH',date:''},VI:{name:'VIRGIN ISLANDS, U.S.',date:''},WF:{name:'WALLIS AND FUTUNA',date:''},EH:{name:'WESTERN SAHARA',date:''},YE:{name:'YEMEN',date:''},CG:{name:'ZAIRE',date:''},ZM:{name:'ZAMBIA',date:''},ZW:{name:'ZIMBABWE',date:''}};mod=function(x,y){return(x-y*(Math.floor(x/y)));};processWeekCount=function(dayOfPeriod,dayOfWeek,firstDayOfWeek,minDaysInWeek){var relDow,day1dow,day1relDow,day1wk,weekOfPeriod;relDow=mod((dayOfWeek-firstDayOfWeek+7),7);day1dow=mod(dayOfWeek-mod(dayOfPeriod-1,7)+7,7);day1relDow=mod((day1dow-firstDayOfWeek+7),7);day1wk=7-day1relDow>=minDaysInWeek?1:0;weekOfPeriod=Math.ceil((dayOfPeriod-1-relDow)/7)+day1wk;return(weekOfPeriod);};return function(config){var date,myclass,superclass,zone,locale,time,calendar,firstDayOfWeek,minDaysInWeek,dateFormat=null,timeFormat=null,dateTimeFormat=null,dirty,dirtyCount,defaultFirstDayInWeek,defaultMinDaysInWeek,fields,bundle,recalculateWeeks,getLocalized,processTime,processFields,callback;date=config.date||new Date();myclass=this.myclass;superclass=this.superclass;zone=config.zone;locale=config.locale;time=date.getTime();calendar=config.calendar;firstDayOfWeek=0;minDaysInWeek=1;dirty={};dirtyCount=false;defaultFirstDayInWeek=0;defaultMinDaysInWeek=1;fields={};bundle=null;recalculateWeeks=(function(that){return function(){fields.WEEK_OF_MONTH=processWeekCount(that.getDate(),that.getDayOfWeek(),that.getFirstDayOfWeek(),that.getMinimumDaysInWeek());fields.WEEK_OF_YEAR=processWeekCount(that.getDayOfYear(),that.getDayOfWeek(),that.getFirstDayOfWeek(),that.getMinimumDaysInWeek());};}(this));getLocalized=function(key){var name=null;if(bundle&&bundle.get){name=bundle.get(key);}
name=name||calendar.getDefaultLocaleInfo(key);return(name);};processTime=function(){var ms,wholeDays,leftover,zi,zoneOffset,totalOff,isDst,zoneName,neg,rfc822,changeOffset,calTime,hr,min,s,amPm,hr12,cal,t=time;ms=mod(t,1000);t=Math.floor(t/1000);wholeDays=Math.floor(t/sec.day);leftover=mod(t,sec.day);zi=zone.getZoneInfoUTC(t);zoneOffset=zi.offset;isDst=zi.isDst;totalOff=Math.floor(zoneOffset/60);zoneName=zi.abbr;neg=totalOff<0?'-':'+';rfc822=neg+zeropad(Math.floor(Math.abs(totalOff/60)),2)+zeropad(mod(totalOff,60),2);leftover+=zoneOffset;while(leftover>=sec.day){leftover-=sec.day;wholeDays++;}
while(leftover<0){leftover+=sec.day;wholeDays--;}
wholeDays+=EPOCH_DAYS;changeOffset=0;switch(calendar.getStartOfDay()){case myclass.MIDNIGHT:changeOffset=0;break;case myclass.NOON:changeOffset=sec.hour*12;break;case myclass.SUNSET:changeOffset=sec.hour*-6;break;case myclass.SUNRISE:changeOffset=sec.hour*6;break;default:changeOffset=0;break;}
calTime=leftover-changeOffset;if(calTime>sec.day){wholeDays++;}else if(calTime<0){wholeDays--;}
cal=calendar.daysToCalendar(wholeDays);cal.DAY_OF_WEEK=mod(wholeDays,7);cal.DAY_OF_WEEK_IN_MONTH=Math.ceil(cal.DATE/7);cal.WEEK_OF_YEAR=processWeekCount(cal.DAY_OF_YEAR,cal.DAY_OF_WEEK,firstDayOfWeek,minDaysInWeek);cal.WEEK_OF_MONTH=processWeekCount(cal.DATE,cal.DAY_OF_WEEK,firstDayOfWeek,minDaysInWeek);apply(cal,{ZONE_OFFSET:zoneOffset,DST:isDst,ZONENAME:zoneName,RFC822:rfc822});hr=Math.floor(leftover/sec.hour);leftover=mod(leftover,sec.hour);min=Math.floor(leftover/sec.minute);s=mod(leftover,sec.minute);amPm=hr<12?0:1;hr12=mod(hr,12);if(hr12===0){hr12=12;}
apply(cal,{HOUR_OF_DAY:hr,MINUTE:min,SECOND:s,MILLISECOND:ms,HOUR:hr12,AM_PM:amPm});return(cal);};processFields=function(){var year=fields.YEAR,hour=0,time=0,wholeDays,changeOffset=0,calTime,zi;if(fields.ERA===this.BCE&&year>0){year=1-year;}
if(dirty.HOUR_OF_DAY){if(dirty.HOUR&&dirty.HOUR>dirty.HOUR_OF_DAY){hour+=mod(fields.HOUR,12)+12*fields.AM_PM;}else{hour+=fields.HOUR_OF_DAY;}}else if(dirty.HOUR){hour+=mod(fields.HOUR,12)+12*fields.AM_PM;}else{hour+=fields.HOUR_OF_DAY;}
time+=hour;time*=60;time+=fields.MINUTE;time*=60;time+=fields.SECOND;wholeDays=Math.floor(time/sec.day);time=mod(time,sec.day);while(time<0){time+=sec.day;wholeDays--;}
switch(calendar.getStartOfDay()){case myclass.MIDNIGHT:changeOffset=0;break;case myclass.NOON:changeOffset=sec.hour*12;break;case myclass.SUNSET:changeOffset=sec.hour*-6;break;case myclass.SUNRISE:changeOffset=sec.hour*6;break;default:changeOffset=0;break;}
calTime=time-changeOffset;if(calTime>sec.day){wholeDays++;}else if(calTime<0){wholeDays--;}
wholeDays+=calendar.calendarToDays(fields.ERA,fields.YEAR,fields.MONTH,fields.DATE)-EPOCH_DAYS;time+=wholeDays*sec.day;zi=zone.getZoneInfoUTC(time);calTime-=zi.offset;if(calTime>sec.day){time+=sec.day;}else if(calTime<0){time-=sec.day;}
time-=zi.offset;time*=1000;time+=isNaN(fields.MILLISECOND)?0:fields.MILLISECOND;return(time);};apply(this,{defaultStyle:myclass.JAVA,format:function(format,style){var f=(style&&formatters[style])?formatters[style]:formatters[this.defaultStyle];return(f.fn(format,f.codes,this));},date:function(){return(this.format(dateFormat,this.defaultStyle));},time:function(){return(this.format(timeFormat,this.defaultStyle));},dateTime:function(){return(this.format(dateTimeFormat,this.defaultStyle));},isLeap:function(){return(this.get('LEAP')===1);},getRfc822:function(){return(this.get('RFC822'));},getZoneName:function(){return(this.get('ZONENAME'));},getYear:function(){return this.get('YEAR');},getMonth:function(){return this.get('MONTH');},getDate:function(){return this.get('DATE');},getWeekOfYear:function(){return this.get('WEEK_OF_YEAR');},getWeekOfMonth:function(){return this.get('WEEK_OF_MONTH');},getDayOfYear:function(){return this.get('DAY_OF_YEAR');},getDayOfWeek:function(){return this.get('DAY_OF_WEEK');},getDayOfWeekInMonth:function(){return this.get('DAY_OF_WEEK_IN_MONTH');},getHour:function(){return this.get('HOUR');},getHourOfDay:function(){return this.get('HOUR_OF_DAY');},getEra:function(){return this.get('ERA');},getAmPm:function(){return this.get('AM_PM');},getMinute:function(){return this.get('MINUTE');},getSecond:function(){return this.get('SECOND');},getMillisecond:function(){return this.get('MILLISECOND');},getMax:function(field){var ret=null,maxDate=null,dow=null,remDays;switch(field){case'ERA':ret=calendar.getMaxEra();break;case'YEAR':ret=calendar.getMaxYear(fields.ERA);break;case'MONTH':ret=calendar.getMaxMonth(fields.ERA,fields.YEAR);break;case'DATE':ret=calendar.getMaxDate(fields.ERA,fields.YEAR,fields.MONTH);break;case'DAY_OF_YEAR':ret=calendar.getMaxDayOfYear(fields.ERA,fields.YEAR);break;case'HOUR':ret=12;break;case'HOUR_OF_DAY':ret=23;break;case'AM_PM':ret=1;break;case'LEAP':ret=1;break;case'DAY_OF_WEEK':ret=6;break;case'DAY_OF_WEEK_IN_MONTH':remDays=calendar.getMaxDate(fields.ERA,fields.YEAR,fields.MONTH)-fields.DATE;ret=fields.DAY_OF_WEEK_IN_MONTH+Math.ceil(remDays/7);break;case'WEEK_OF_MONTH':maxDate=calendar.getMaxDate(fields.ERA,fields.YEAR,fields.MONTH);dow=mod(maxDate-fields.DATE+fields.DAY_OF_WEEK,7);ret=processWeekCount(maxDate,dow,this.getFirstDayOfWeek(),this.getMinimumDaysInWeek());break;case'WEEK_OF_YEAR':maxDate=calendar.getMaxDayOfYear(fields.ERA,fields.YEAR);dow=mod(maxDate-fields.DATE+fields.DAY_OF_WEEK,7);ret=processWeekCount(maxDate,dow,this.getFirstDayOfWeek(),this.getMinimumDaysInWeek());break;case'MINUTE':ret=59;break;case'SECOND':ret=59;break;case'MILLISECOND':ret=999;break;default:ret=null;break;}
return(ret);},getMin:function(field){var ret=null;switch(field){case'ERA':ret=calendar.getMinEra();break;case'YEAR':ret=calendar.getMinYear(fields.ERA);break;case'MONTH':ret=calendar.getMinMonth(fields.ERA,fields.YEAR);break;case'DATE':ret=calendar.getMinDate(fields.ERA,fields.YEAR,fields.MONTH);break;case'DAY_OF_YEAR':ret=calendar.getMinDayOfYear(fields.ERA,fields.YEAR);break;case'HOUR':ret=1;break;case'HOUR_OF_DAY':ret=0;break;case'AM_PM':ret=0;break;case'LEAP':ret=0;break;case'DAY_OF_WEEK':ret=0;break;case'DAY_OF_WEEK_IN_MONTH':ret=1;break;case'WEEK_OF_MONTH':ret=0;break;case'WEEK_OF_YEAR':ret=0;break;case'MINUTE':ret=0;break;case'SECOND':ret=0;break;case'MILLISECOND':ret=0;break;default:ret=null;break;}
return(ret);},getFirstDayOfWeek:function(){return firstDayOfWeek;},getMinimumDaysInWeek:function(){return minDaysInWeek;},getZone:function(){return zone;},setYear:function(val){this.set('YEAR',val);},setMonth:function(val){this.set('MONTH',val);},setDate:function(val){this.set('DATE',val);},setWeekOfYear:function(val){this.set('WEEK_OF_YEAR',val);},setWeekOfMonth:function(val){this.set('WEEK_OF_MONTH',val);},setDayOfYear:function(val){this.set('DAY_OF_YEAR',val);},setDayOfWeek:function(val){this.set('DAY_OF_WEEK',val);},setDayOfWeekInMonth:function(val){this.set('DAY_OF_WEEK_IN_MONTH',val);},setHour:function(val){this.set('HOUR',val);},setHourOfDay:function(val){this.set('HOUR_OF_DAY',val);},setEra:function(val){this.set('ERA',val);},setAmPm:function(val){this.set('AM_PM',val);},setMinute:function(val){this.set('MINUTE',val);},setSecond:function(val){this.set('SECOND',val);},setMillisecond:function(val){this.set('MILLISECOND',val);},setFirstDayOfWeek:function(val){val=parseInt(val,10);val=isNaN(val)||val<0||val>6?defaultFirstDayInWeek:val;if(firstDayOfWeek!==val){firstDayOfWeek=val;recalculateWeeks();}},setMinimumDaysInWeek:function(val){val=parseInt(val,10);val=isNaN(val)||val<1||val>7?defaultMinDaysInWeek:val;if(minDaysInWeek!==val){minDaysInWeek=val;recalculateWeeks();}},setZone:function(val){zone=val;fields=processTime();dirty={};dirtyCount=false;},getTextDayOfWeek:function(shortName,d){var name,l;if(d===undefined){d=fields.DAY_OF_WEEK;}
name=['SUNDAY','MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY'][d];l=getLocalized(name);return(l.split(':')[shortName?1:0]);},getTextDayOfWeekShort:function(d){return(this.getTextDayOfWeek(true,d));},getTextDayOfWeekLong:function(d){return(this.getTextDayOfWeek(false,d));},getTextMonth:function(shortName,m){var name,l;if(m===undefined){m=fields.MONTH;}
name=['JANUARY','FEBRUARY','MARCH','APRIL','MAY','JUNE','JULY','AUGUST','SEPTEMBER','OCTOBER','NOVEMBER','DECEMBER','UNDECIMBER'][m-1];l=getLocalized(name);return(l?l.split(':')[shortName?1:0]:l);},getTextMonthShort:function(m){return(this.getTextMonth(true,m));},getTextMonthLong:function(m){return(this.getTextMonth(false,m));},getTextAmPm:function(){var name=['AM','PM'][fields.AM_PM];return(getLocalized(name));},getTextEra:function(){var name=['ERA0','ERA1'][fields.ERA];return(getLocalized(name));},getTextCount:function(){var n,name;n=fields.DATE-1;name=getLocalized('COUNT'+(n+1));if(!name){name=getLocalized('COUNTN');}
if(!name){name='';}
return(name);},setLocale:function(config){var basepath,path,options,that=this;locale=config.locale;basepath=config.basepath||myclass.basepath;path=config.localePath||myclass.localePath;options={callback:config.callback,config:config};exports.ResourceBundle.getBundle({path:basepath+path,name:calendar.name,locale:locale,callback:function(success,b,options,message){var e,f,opts;if(success&&b){bundle=b;that.setFirstDayOfWeek(b.get('FIRSTDAYINWEEK'));that.setMinimumDaysInWeek(b.get('MINIMUMDAYSINWEEK'));f=formats[locale]||iso;dateFormat=f.date;timeFormat=f.time;dateTimeFormat=f.date+' '+f.time;e=null;}else if(!options.config.locale||calendar.getDefaultLocale()===options.config.locale){that.setFirstDayOfWeek(getLocalized('FIRSTDAYINWEEK'));that.setMinimumDaysInWeek(getLocalized('MINIMUMDAYSINWEEK'));f=formats[locale]||iso;dateFormat=f.date;timeFormat=f.time;dateTimeFormat=f.date+' '+f.time;e=null;success=true;}else{e="Unable to load bundle";}
if(options.callback&&typeof(options.callback)==='function'){opts=options.config?options.config.options:null;options.callback(success,that,opts,e);}},options:options});},get:function(field){if(dirtyCount){time=processFields();fields=processTime();dirty={};dirtyCount=false;}
return(fields[field]);},set:function(field,val){fields[field]=val;dirty[field]=new Date().getTime();dirtyCount=true;},add:function(field,delta){if(dirtyCount){time=processFields();dirty={};dirtyCount=false;fields=processTime();}
switch(field){case'DATE':time=time+delta*ms1d;break;case'DAY_OF_YEAR':time=time+delta*ms1d;break;case'DAY_OF_WEEK':time=time+delta*ms1d;break;case'YEAR':fields.YEAR+=delta;time=processFields();break;case'MILLISECOND':time=time+delta;break;case'SECOND':time=time+delta*1000;break;case'MINUTE':time=time+delta*ms1m;break;case'HOUR':time=time+delta*ms1h;break;case'HOUR_OF_DAY':time=time+delta*ms1h;break;case'MONTH':fields.MONTH+=delta;time=processFields();break;case'AM_PM':time=time+delta*ms1d/2;break;case'WEEK_OF_MONTH':time=time+delta*ms7d;break;case'WEEK_OF_YEAR':time=time+delta*ms7d;break;}
fields=processTime();dirty={};dirtyCount=false;},roll:function(field,delta){var cur,max,min,range,val;cur=this.get(field);max=this.getMax(field,fields);min=this.getMin(field,fields);range=max-min+1;val=(cur-min+range+delta)%range+min;if(val<min){val+=range;}
this.set(field,val);time=processFields();dirty={};dirtyCount=false;fields=processTime();},setTime:function(t){time=t||new Date().getTime();fields=processTime();dirty={};dirtyCount=false;},getTime:function(){if(dirtyCount){time=processFields();fields=processTime();dirty={};dirtyCount=false;}
return(time);}});callback=function(success,that,options,e){if(success){that.setTime(time);options.callback(true,that,options.options,null);}else{options.callback(false,null,options.options,e);}};this.setLocale({locale:config.locale,basepath:config.basepath,localePath:config.localePath,callback:callback,options:config});};}()),(function(){var myclass=function(){return exports.calendar;},tzInit=function(){return exports.TimeZone;},impls={};return{MIDNIGHT:0,NOON:1,SUNRISE:2,SUNSET:3,localePath:'i18n/locale/',calendarPath:'i18n/calendars/',basePath:'/lib/',defaultCalendar:'Gregorian',JAVA:'J',PHP:'P',STRFTIME:'S',getCalendar:function(config){var calInit=myclass(),date,calendar,basepath,calpath,calConf,calInst,callback,opts,zone,locale,localepath;config=config||{};if(typeof(config.zone)==='object'){date=config.date;zone=config.zone;locale=config.locale;callback=config.callback;opts=config.options;calendar=config.calendar||calInit.defaultCalendar;calendar=calendar.toLowerCase();basepath=config.basePath||calInit.basePath;calpath=config.calendarPath||calInit.calendarPath;localepath=config.localePath||calInit.localePath;if(impls[calendar]){calConf={calendar:impls[calendar],date:date,zone:zone,locale:locale,basepath:basepath,localePath:localepath,callback:callback,options:opts};calInst=calInit(calConf);}else{utils.getFile(basepath+calpath+calendar+'.json',function(url,xmlHttp,success,options){options=options||{};if(success){impls[options.calendar]=loadCode(xmlHttp.responseText);try{calConf={calendar:impls[calendar],date:options.date,zone:options.zone,locale:options.locale,options:options.options,basepath:options.basepath,localePath:options.localePath,callback:options.callback};calInst=calInit(calConf);}catch(e){if(typeof(options.callback)==='function'){options.callback(false,null,options.options,e);}}}else{if(typeof(options.callback)==='function'){options.callback(false,null,options.options,"Unknown calendar");}}},{calendar:calendar,date:date,zone:zone,locale:locale,basepath:basepath,localePath:localepath,callback:callback,options:opts});}}else{tzInit().getZone({name:config.zone,options:config,callback:function(success,zone,options,e){options=options||{};if(success){options.zone=zone;calInit.getCalendar(options);}else{if(typeof(options.callback)==='function'){options.callback(false,null,options.options,"Unknown zone");}}}});}},clearCache:function(name){if(name){delete impls[name.toLowerCase()];}else{impls={};}}};}()));if(!this.JSON){JSON={};}
(function(){function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+
partial.join(',\n'+gap)+'\n'+
mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+
mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}})();}(typeof module==="undefined"||typeof module.exports==="undefined"?(this.JSORM===undefined?this.JSORM={}:this.JSORM):module.exports));